[package]
authors     = { workspace = true }
categories  = ["network-programming"]
description = "P2P communication abstraction system"
edition     = { workspace = true }
keywords    = ["communication", "networking", "p2p", "peer-to-peer"]
license     = { workspace = true }
name        = "switchy_p2p"
readme      = "README.md"
repository  = { workspace = true }
version     = "0.1.0"

[package.metadata]
examples = false

[package.metadata.workspaces]
group = "switchy"

[dependencies]
# Phase 2.1: First dependencies added to package
switchy_random = { workspace = true, features = ["rand"] }
# Phase 2.3: Added async support for connections
switchy_async = { workspace = true, features = ["sync", "time", "tokio"] }
# Phase 3.1: Added async-trait for trait Future bounds
async-trait = { workspace = true }
# Phase 3.1: Added thiserror for clean error handling (no boilerplate)
thiserror = { workspace = true }
# - Phase 7.1: iroh (optional)
# - Phase 8.1: proptest (dev-dependency)

[features]
default = ["simulator"]
fail-on-warnings = [
    "switchy_async/fail-on-warnings",
    "switchy_random/fail-on-warnings",
]
simulator = ["switchy_async/simulator", "switchy_random/simulator"]
# NOTE: iroh feature will be added in Phase 7.1
# NOTE: test-utils feature will be added in Phase 8.1

[dev-dependencies]
test-log = { workspace = true }
