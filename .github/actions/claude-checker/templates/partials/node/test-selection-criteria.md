---
# Partial: Node/TypeScript Test Selection Criteria
# Expected variables: none required
---

## CRITICAL: Test Selection Criteria

You must ONLY add tests that meet ALL of the following criteria:

1. **Clear Scope**: You must VERY CLEARLY understand the exact scope and behavior of the code being tested
2. **No Duplication**: You must be ABSOLUTELY SURE there are no other tests that test the same thing
3. **Meaningful Value**: The test must provide USEFUL coverage, not just test trivial or obvious behavior
4. **Real Gaps**: The test must fill an actual gap in test coverage, not redundantly test well-covered code

**DO NOT** add tests for:

- **Simple getters/setters with no logic** - Functions that just return or set a field value without any transformation, validation, or business logic
- **Trivial type guards** - TypeScript type narrowing functions that just check `typeof` or `instanceof` without additional logic
- **Simple re-exports** - Modules that just re-export from other modules (`export { foo } from './foo'`)
- **Trivial constructors/factories** - Functions that just assign values to fields without validation or setup logic
- **Simple async wrappers** - Functions that just wrap another function in `async`/`await` without additional logic
- **Generated code** - Code generated by tools (GraphQL codegen, Prisma client, OpenAPI generators, etc.)
- **External dependency behavior** - Do not test that external libraries work correctly; trust that dependencies are tested by their maintainers
- **Type-only code** - TypeScript interfaces, type aliases, and utility types (these are compile-time only)
- **Simple object spreads/merges** - Functions that just spread objects together without transformation
- **Trivial default values** - Testing that optional parameters have expected default values
- **Console/logging calls** - Testing that console.log or logger was called with specific messages
- **Simple string templates** - Template literals without complex logic
- **Framework boilerplate** - Testing React component mounting, Express middleware registration, etc.
- **Simple event handlers** - Event handlers that just call another function without logic
- **Trivial map/filter/reduce** - Array operations with simple callbacks that don't warrant individual testing
- **Environment variable reads** - Testing that `process.env.X` returns the expected value
- **Simple conditional returns** - Functions like `return condition ? a : b` without complex logic

**Why avoid these tests?**
These tests provide minimal value because:

1. They test the language/runtime, not your code
2. They're brittle - they break when refactoring without indicating real bugs
3. They clutter the test suite and reduce signal-to-noise ratio
4. They give false confidence in coverage metrics
5. If these basic operations fail, many other tests will also fail, making the failure obvious

**DO** add tests for:

- Complex business logic and algorithms
- Edge cases and boundary conditions
- Error handling and recovery paths
- State transitions and validation logic
- Data transformations and calculations
- Async operations with complex control flow (retries, timeouts, race conditions)
- Integration points between modules
- Security-sensitive code paths
- Code with complex conditional logic
- Functions with multiple code paths based on input
